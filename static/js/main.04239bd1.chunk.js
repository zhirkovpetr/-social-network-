(this["webpackJsonpreact-kabzda-1-ts"]=this["webpackJsonpreact-kabzda-1-ts"]||[]).push([[0],{128:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(49),c=(n(1),n(11)),s=n(12),i=n(0),o=function(e){return{isAuth:e.auth.isAuth}};function u(e){return Object(s.b)(o)((function(t){var n=t.isAuth,s=Object(a.a)(t,["isAuth"]);return n?Object(i.jsx)(e,Object(r.a)({},s)):Object(i.jsx)(c.a,{to:"/login"})}))}},129:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(38),a=n(3),c=n(25),s="SOCIAL_NETWORK/DIALOGS/ADD-MESSAGE",i={dialogs:[{id:Object(c.a)(),name:"Dmitry"},{id:Object(c.a)(),name:"Petr"},{id:Object(c.a)(),name:"Andrey"},{id:Object(c.a)(),name:"Alena"},{id:Object(c.a)(),name:"Nastia"}],messages:[{id:Object(c.a)(),message:"Hi!"},{id:Object(c.a)(),message:"Hi!"},{id:Object(c.a)(),message:"How a you?"},{id:Object(c.a)(),message:"Good!"},{id:Object(c.a)(),message:"What do you do?"}]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=t.newMessage;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:Object(c.a)(),message:n}])});default:return e}},u=function(e){return{type:s,newMessage:e}}},13:function(e,t,n){e.exports={nav:"NavBar_nav__xcy83",item:"NavBar_item__1XSqw",activeLink:"NavBar_activeLink__302B2",friends:"NavBar_friends__3FnqL",imgFriend:"NavBar_imgFriend__2GIfy",nameFriend:"NavBar_nameFriend__sCgLs"}},135:function(e,t,n){e.exports={dialogs:"Users_dialogs__3rb7s",dialog:"Users_dialog__1RBB1",photo:"Users_photo__18Ulb"}},136:function(e,t,n){e.exports={item:"Post_item__ARoXA"}},164:function(e,t,n){},168:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),a=n(49),c=(n(1),n(42)),s=n.n(c),i=n(0),o=function(e){e.input;var t=e.meta,n=(e.children,Object(a.a)(e,["input","meta","children"]),t.touched&&t.error);return Object(i.jsxs)("div",{className:"".concat(s.a.formControl," + ' ' + ").concat(n?s.a.error:""),children:[Object(i.jsx)("div",{children:e.children}),Object(i.jsx)("div",{children:n&&Object(i.jsx)("span",{children:t.error})})]})},u=function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return Object(i.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},l=function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return Object(i.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(i.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))}},291:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=(n(164),n(67)),s=n.n(c),i=n(32),o=n(33),u=n(36),l=n(35),j=(n(168),n(11)),d=n(14),b=n(0),p=function(){return Object(b.jsx)("div",{children:"News"})},O=function(){return Object(b.jsx)("div",{children:"Music"})},A=function(e){return Object(b.jsx)("div",{children:"Settings"})},f=n(12),h=n(13),g=n.n(h),m=a.a.memo((function(e){var t=e.sideBar.friends;return Object(b.jsxs)("nav",{className:g.a.nav,children:[Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(d.b,{to:"/profile",activeClassName:g.a.activeLink,children:"Profile"})}),Object(b.jsx)("div",{className:"".concat(g.a.item," ").concat(g.a.active),children:Object(b.jsx)(d.b,{to:"/dialogs",activeClassName:g.a.activeLink,children:"Messages"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(d.b,{to:"/news",activeClassName:g.a.activeLink,children:"News"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(d.b,{to:"/music",activeClassName:g.a.activeLink,children:"Music"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(d.b,{to:"/settings",activeClassName:g.a.activeLink,children:"Settings"})}),Object(b.jsxs)("div",{className:g.a.item,children:[Object(b.jsx)(d.b,{to:"/friends",activeClassName:g.a.activeLink,children:"Friends"}),Object(b.jsx)("div",{className:g.a.friends,children:t.map((function(e,t){return Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:g.a.imgFriend,children:Object(b.jsx)("img",{src:"https://dthezntil550i.cloudfront.net/kg/latest/kg1802132010216500004834729/1280_960/557d644f-12f3-49e1-bb66-23c16400540d.png",alt:"friend"})}),Object(b.jsx)("span",{className:g.a.nameFriend,children:Object(b.jsx)(d.b,{to:"/friend/"+e.id,activeClassName:g.a.activeLink,children:e.name})})]},t)}))})]})]})})),v=Object(f.b)((function(e){return{sideBar:e.sideBar}}),{})(m),x=n(10),C=n.n(x),P=n(16),I=n(38),E=n(3),S=n(134),N=n.n(S).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"abbdd15d-25c5-489b-bf41-880fe8431dc9"}}),L=function(e,t){return N.get("users?page=".concat(e,"&count=").concat(t))},k=function(e){return N.post("follow/".concat(e),{})},T=function(e){return N.delete("follow/".concat(e),{})},y=function(e){return N.get("profile/".concat(e))},B=function(e){return N.get("profile/status/".concat(e))},w=function(e){return N.put("profile/status",{status:e})},F=function(e){var t=new FormData;return t.append("image",e),N.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},W=function(e){return N.put("profile",e)},R=function(){return N.get("auth/me")},U=function(e,t,n,r){return N.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},X=function(){return N.delete("auth/login")},H=function(){return N.get("security/get-captcha-url")},V="SOCIAL_NETWORK/PROFILE/FOLLOW",D="SOCIAL_NETWORK/PROFILE/UNFOLLOW",M="SOCIAL_NETWORK/PROFILE/SET_USERS",q="SOCIAL_NETWORK/PROFILE/SET_CURRENT_PAGE",z="SOCIAL_NETWORK/PROFILE/SET_TOTAL_USERS_COUNT",G="SOCIAL_NETWORK/PROFILE/TOGGLE_IS_FETCHING",Z="SOCIAL_NETWORK/PROFILE/TOGGLE_FOLLOWING_IN_PROGRESS",K={items:[],pageSize:10,totalCount:0,currentPage:1,isFetching:!1,startPage:1,followingInProgress:[]},Q=function(e){return{type:V,userId:e}},J=function(e){return{type:D,userId:e}},Y=function(e){return{type:q,currentPage:e}},_=function(e){return{type:G,isFetching:e}},$=function(e,t){return{type:Z,userId:e,isFetching:t}},ee=n(24),te=n(92),ne=n.n(te),re=a.a.memo((function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var c=Math.ceil(t/30),s=Object(r.useState)(1),i=Object(ee.a)(s,2),o=i[0],u=i[1],l=30*(o-1)+1,j=30*o;return Object(b.jsxs)("div",{className:ne.a.page,children:[o>1&&Object(b.jsx)("button",{onClick:function(){u(o-1)},children:"PR"}),n.filter((function(e){return e>=l&&e<=j})).map((function(t){return Object(b.jsx)("span",{className:e.currentPage===t?ne.a.currentPage:"",onClick:function(){e.onPageChanged(t)},children:t},t)})),c>o&&Object(b.jsx)("button",{onClick:function(){u(o+1)},children:"Next"})]})})),ae=n(135),ce=n.n(ae),se=n.p+"static/media/user.8415df19.png",ie=a.a.memo((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(d.b,{to:"/profile/".concat(e.items.id),children:Object(b.jsx)("img",{alt:"avatar",className:ce.a.photo,src:null!==e.items.photos.small?e.items.photos.small:se})})}),Object(b.jsx)("div",{children:e.items.followed?Object(b.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.items.id})),onClick:function(){e.unFollowTC(e.items.id)},children:"UNFOLLOW"}):Object(b.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.items.id})),onClick:function(){e.followTC(e.items.id)},children:"FOLLOW"})})]}),Object(b.jsxs)("span",{children:[Object(b.jsxs)("span",{children:[Object(b.jsxs)("div",{children:[e.items.name," ","u.surname"]}),Object(b.jsx)("div",{children:null!==e.items.status?e.items.status:"not status"})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:"u.location.country"}),Object(b.jsx)("div",{children:"u.location.city"})]})]})]})})),oe=a.a.memo((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(re,{totalCount:e.totalCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage}),Object(b.jsx)("div",{children:e.usersPage.map((function(t){return Object(b.jsx)(ie,{items:t,followingInProgress:e.followingInProgress,followTC:e.followTC,unFollowTC:e.unFollowTC},t.id)}))})]})})),ue=n.p+"static/media/loading.96080287.svg",le=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("img",{alt:"LOADING, PLEASE WAIT",src:ue})})},je=n(8),de=function(e){return e.usersPage.items},be=function(e){return e.usersPage.pageSize},pe=function(e){return e.usersPage.totalCount},Oe=function(e){return e.usersPage.currentPage},Ae=function(e){return e.usersPage.isFetching},fe=function(e){return e.usersPage.followingInProgress},he=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsersTC(t,n)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsersTC(t,n)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(le,{}):null,Object(b.jsx)(oe,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,usersPage:this.props.usersPage,followTC:this.props.followTC,unFollowTC:this.props.unFollowTC,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.PureComponent),ge=Object(je.d)(Object(f.b)((function(e){return{usersPage:de(e),pageSize:be(e),totalCount:pe(e),currentPage:Oe(e),isFetching:Ae(e),followingInProgress:fe(e)}}),{followTC:function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n($(e,!0)),t.next=3,k(e);case 3:0===t.sent.data.resultCode&&n(Q(e)),n($(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowTC:function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n($(e,!0)),t.next=3,T(e);case 3:0===t.sent.data.resultCode&&n(J(e)),n($(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:Y,toggleIsFollowingInProgress:$,getUsersTC:function(e,t){return function(){var n=Object(P.a)(C.a.mark((function n(r){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0)),n.next=3,L(e,t);case 3:a=n.sent,r(_(!1)),r((s=a.data.items,{type:M,items:s})),r((c=a.data.totalCount,{type:z,totalCount:c})),r(Y(e));case 8:case"end":return n.stop()}var c,s}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(he),me=n(25),ve=n(31),xe="SOCIAL_NETWORK/PROFILE/ADD-POST",Ce="SOCIAL_NETWORK/PROFILE/ON_KEY_PRESS_HANDLER",Pe="SOCIAL_NETWORK/PROFILE/SET_USER_PROFILE",Ie="SOCIAL_NETWORK/PROFILE/SET_STATUS",Ee="SOCIAL_NETWORK/PROFILE/REMOVE_POST",Se="SOCIAL_NETWORK/PROFILE/SAVE_PHOTO_SUCCESS",Ne={status:"",posts:[{id:Object(me.a)(),message:"Hi, how a you?",likesCount:12},{id:Object(me.a)(),message:"It's my first post.",likesCount:22}],profile:null,isFetching:!1},Le=function(e){return{type:Ie,status:e}},ke=function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:r=t.sent,n((a=r.data,{type:Pe,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=n(136),ye=n.n(Te),Be=a.a.memo((function(e){return Object(b.jsxs)("div",{className:ye.a.item,children:[Object(b.jsx)("img",{alt:"user avatar",src:"data:image/jpeg;base64,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"}),e.message,Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:["Likes ",e.likesCount]})})]})})),we=n(93),Fe=n.n(we),We=n(130),Re=n(131),Ue=n(41),Xe=n(20),He=Object(Ue.a)(50),Ve=a.a.memo((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(We.a,{placeholder:"Enter your message",type:"text",name:"newPost",component:Xe.b,validate:[Ue.b,He]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"Add post"})})]})})),De=a.a.memo(Object(Re.a)({form:"ProfileNewPost"})(Ve)),Me=a.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return Object(b.jsx)(Be,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(b.jsxs)("div",{className:Fe.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)(De,{onSubmit:function(t){e.AddPost(t.newPost),t.newPost=""}}),Object(b.jsx)("div",{className:Fe.a.posts,children:t})]})})),qe=Object(f.b)((function(e){return{profilePage:e.profilePage}}),{AddPost:function(e){return{type:xe,newPost:e}},onKeyPressHandler:function(e){return{type:Ce,newPost:e}}})(Me),ze=n(48),Ge=n.n(ze),Ze=a.a.memo((function(e){var t=Object(r.useState)(!1),n=Object(ee.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(e.status),i=Object(ee.a)(s,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!a&&Object(b.jsx)("div",{children:Object(b.jsxs)("span",{onDoubleClick:function(){e.isOwner&&c(!0)},children:[Object(b.jsx)("b",{children:"Status: "}),e.status||"No Status"]})}),a&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),e.updateStatusTC(o)},onChange:function(e){u(e.currentTarget.value)},value:o})})]})})),Ke=a.a.memo((function(e){return Object(b.jsxs)("div",{className:Ge.a.descriptionBlock,children:[e.isOwner&&Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){return e.goToEditMode(!0)},children:"Edit"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Full name:"})," ",e.profile.fullName]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"Yes":"No"]}),e.profile.lookingForAJob&&Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"My skills:"})," ",e.profile.lookingForAJobDescription]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Contacts:"})," ",Object.entries(e.profile.contacts).map((function(e){var t=Object(ee.a)(e,2),n=t[0],r=t[1];return Object(b.jsx)(Qe,{contactName:n,contactValue:r},n)}))]})]})})),Qe=function(e){return Object(b.jsxs)("div",{className:Ge.a.contactForm,children:[Object(b.jsxs)("b",{children:[e.contactName,":"]})," ",e.contactValue]})},Je=n(127),Ye=n(42),_e=n.n(Ye),$e=Object(Re.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.error,r=e.profile;return Object(b.jsxs)(Je.a,{onSubmit:t,children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){},children:"Save"})}),n&&Object(b.jsx)("div",{className:_e.a.formSummaryError,children:n}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Full name:"})," ",Object(b.jsx)(We.a,{type:"text",placeholder:"Full name",name:"fullName",component:Xe.a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Looking for a job:"})," ",Object(b.jsx)(We.a,{type:"checkbox",name:"lookingForAJob",component:Xe.a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"My skills:"})," ",Object(b.jsx)(We.a,{type:"text",name:"lookingForAJobDescription",component:Xe.b})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About me:"})," ",Object(b.jsx)(We.a,{type:"text",name:"aboutMe",component:Xe.b})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Contacts:"})," ",Object.entries(r.contacts).map((function(e){var t=Object(ee.a)(e,1)[0];return Object(b.jsxs)("div",{children:[Object(b.jsxs)("b",{children:[" ",t,": "]})," ",Object(b.jsx)(We.a,{type:"text",placeholder:t,name:"contacts."+t,component:Xe.a})]},t)}))]})]})})),et=a.a.memo((function(e){var t=Object(r.useState)(!1),n=Object(ee.a)(t,2),a=n[0],c=n[1];return e.profile?Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:Ge.a.descriptionBlock,children:[Object(b.jsx)("img",{className:Ge.a.mainPhoto,alt:"avatars",src:null!==e.profile.photos.small?e.profile.photos.small:se}),e.isOwner&&Object(b.jsx)("input",{type:"file",onChange:function(t){var n;(null===(n=t.target.files)||void 0===n?void 0:n.length)&&e.savePhotoTC(t.target.files[0])}}),Object(b.jsx)(Ze,{status:e.status,updateStatusTC:e.updateStatusTC,isOwner:e.isOwner}),a?Object(b.jsx)($e,{profile:e.profile,deactivateEditMode:function(){},onSubmit:function(t){e.saveProfileTC(t).then((function(){return c(!1)}))},initialValues:e.profile}):Object(b.jsx)(Ke,{profile:e.profile,isOwner:e.isOwner,goToEditMode:c})]})}):Object(b.jsx)(le,{})})),tt=a.a.memo((function(e){return e.isAuth?Object(b.jsxs)("div",{children:[Object(b.jsx)(et,{profile:e.profile,status:e.status,updateStatusTC:e.updateStatusTC,isOwner:e.isOwner,savePhotoTC:e.savePhotoTC,saveProfileTC:e.saveProfileTC}),Object(b.jsx)(qe,{})]}):Object(b.jsx)(j.a,{to:"/login"})})),nt=n(128),rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("login"),e&&(this.props.getUserPageTC(e),this.props.getStatusTC(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(b.jsx)(tt,Object(E.a)(Object(E.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,isAuth:this.props.isAuth,savePhotoTC:this.props.savePhotoTC,saveProfileTC:this.props.saveProfileTC}))}}]),n}(a.a.PureComponent),at=Object(je.d)(nt.a,Object(f.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.id}}),{getUserPageTC:ke,getStatusTC:function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:r=t.sent,n(Le(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusTC:function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:0===(r=t.sent).data.resultCode?n(Le(e)):r.data.messages.length>0&&console.warn(r.data.messages[0]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoTC:function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos.small,{type:Se,photo:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileTC:function(e){return function(){var t=Object(P.a)(C.a.mark((function t(n,r){var a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.id,t.next=4,W(e);case 4:if(0!==(c=t.sent).data.resultCode){t.next=9;break}n(ke(a.toString())),t.next=11;break;case 9:return n(Object(ve.a)("edit-profile",{_error:c.data.messages[0]})),t.abrupt("return",Promise.reject(c.data.messages[0]));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),j.g)(rt),ct=n(96),st=n.n(ct),it=a.a.memo((function(e){return Object(b.jsxs)("header",{className:st.a.header,children:[Object(b.jsx)("img",{alt:"logo",src:"https://cdn.logo.com/hotlink-ok/logo-social.png"}),Object(b.jsxs)("div",{className:st.a.loginBlock,children:[e.isFetching?Object(b.jsx)(le,{}):null,e.isAuth?Object(b.jsxs)("div",{children:[" ",e.login,"  ",Object(b.jsx)("button",{onClick:e.logoutTC,children:"LOG OUT"})," "]}):Object(b.jsx)(d.b,{to:"/login",children:" LOG IN  "})]})]})})),ot="SOCIAL_NETWORK/AUTH/SET_USER_DATA",ut="SOCIAL_NETWORK/AUTH/TOGGLE_IS_FETCHING",lt="GET_CAPTCHA_URL_SUCCESS",jt={id:0,login:null,email:null,resultCode:0,isFetching:!1,isAuth:!1,captchaUrl:null},dt=function(e,t,n,r){return{type:ot,payload:{id:e,email:t,login:n,isAuth:r}}},bt=function(e){return{type:ut,payload:{isFetching:e}}},pt=function(e){return{type:lt,payload:{captchaUrl:e}}},Ot=function(){return function(){var e=Object(P.a)(C.a.mark((function e(t){var n,r,a,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(bt(!0)),e.next=3,R();case 3:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.login,s=r.email,t(dt(a,s,c,!0))),t(bt(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},At=function(){return function(){var e=Object(P.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,r=n.data.url,t(pt(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(it,Object(E.a)({},this.props))}}]),n}(a.a.Component),ht=Object(f.b)((function(e){return{id:e.auth.id,email:e.auth.email,login:e.auth.login,isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),{logoutTC:function(){return function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:0===e.sent.data.resultCode&&t(dt(0,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ft),gt=Object(Ue.a)(40),mt=a.a.memo((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)("div",{children:Object(b.jsx)(We.a,{placeholder:"Email",name:"email",component:Xe.a,validate:[Ue.b,gt]})}),Object(b.jsx)("div",{children:Object(b.jsx)(We.a,{placeholder:"Password",name:"password",type:"password",component:Xe.a,validate:[Ue.b,gt]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(We.a,{type:"checkbox",name:"rememberMe",component:Xe.a}),"remember me"]}),e.captchaUrl&&Object(b.jsx)("img",{alt:"captcha",src:e.captchaUrl}),e.captchaUrl&&Object(b.jsx)("div",{children:Object(b.jsx)(We.a,{placeholder:"Symbols from image",name:"captcha",component:Xe.a})}),e.error&&Object(b.jsx)("div",{className:_e.a.formSummaryError,children:e.error}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Login"})})]})})),vt=Object(Re.a)({form:"login"})(mt),xt=a.a.memo((function(e){return e.isAuth?Object(b.jsx)(j.a,{to:"/profile"}):Object(b.jsx)("div",{children:Object(b.jsx)(vt,{onSubmit:function(t){var n=t.email,r=t.password,a=t.rememberMe,c=t.captcha;e.loginTC(n,r,a,c)},captchaUrl:e.captchaUrl})})})),Ct=Object(f.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{loginTC:function(e,t,n,r){return function(){var a=Object(P.a)(C.a.mark((function a(c){var s,i;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,U(e,t,n,r);case 2:0===(s=a.sent).data.resultCode?c(Ot()):10===s.data.resultCode?c(At()):(i=s.data.messages.length>0?s.data.messages[0]:"Email or password is not correct",c(Object(ve.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(xt),Pt="SOCIAL_NETWORK/APP/SET_INITIALIZED",It={isInitialized:!1},Et=n(129),St={friends:[{id:Object(me.a)(),name:"Dmitry"},{id:Object(me.a)(),name:"Petr"},{id:Object(me.a)(),name:"Andrey"}]},Nt=n(138),Lt=n(132),kt=Object(je.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:var n=t.newPost;return Object(E.a)(Object(E.a)({},e),{},{posts:[].concat(Object(I.a)(e.posts),[{id:Object(me.a)(),message:n,likesCount:0}])});case Ce:var r=t.newPost;return Object(E.a)(Object(E.a)({},e),{},{posts:[].concat(Object(I.a)(e.posts),[{id:Object(me.a)(),message:r,likesCount:0}])});case Pe:return Object(E.a)(Object(E.a)({},e),{},{profile:t.profile});case Ie:return Object(E.a)(Object(E.a)({},e),{},{status:t.status});case Ee:return Object(E.a)(Object(E.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case Se:return null!==e.profile?Object(E.a)(Object(E.a)({},e),{},{profile:Object(E.a)(Object(E.a)({},e.profile),{},{photos:Object(E.a)(Object(E.a)({},e.profile.photos),{},{small:t.photo})})}):Object(E.a)({},e);default:return e}},dialogsPage:Et.b,sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;return t.type,e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(E.a)(Object(E.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(E.a)(Object(E.a)({},e),{},{followed:!0}):e}))});case D:return Object(E.a)(Object(E.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(E.a)(Object(E.a)({},e),{},{followed:!1}):e}))});case M:return Object(E.a)(Object(E.a)({},e),{},{items:Object(I.a)(t.items)});case q:return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case z:return Object(E.a)(Object(E.a)({},e),{},{totalCount:t.totalCount});case G:return Object(E.a)(Object(E.a)({},e),{},{isFetching:t.isFetching});case Z:return Object(E.a)(Object(E.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(I.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:case ut:case lt:return Object(E.a)(Object(E.a)({},e),t.payload);default:return e}},form:Lt.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return Object(E.a)(Object(E.a)({},e),{},{isInitialized:t.isInitialized});default:return e}}}),Tt=window.REDUX_DEVTOOLS_EXTENSION_COMPOSE||je.d,yt=Object(je.e)(kt,Tt(Object(je.a)(Nt.a)));var Bt=a.a.lazy((function(){return n.e(3).then(n.bind(null,294))})),wt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedTC()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(ht,{}),Object(b.jsx)(v,{}),Object(b.jsx)("div",{className:"app-wrapper-content",children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{path:"/",exact:!0,children:Object(b.jsx)(j.a,{to:"/profile"})}),Object(b.jsx)(j.b,{path:"/social-network",exact:!0,children:Object(b.jsx)(j.a,{to:"/profile"})}),Object(b.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(at,{})}}),Object(b.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(at,{})}}),Object(b.jsx)(j.b,{path:"/dialogs",component:(e=Bt,function(t){return Object(b.jsx)(a.a.Suspense,{fallback:Object(b.jsx)(le,{}),children:Object(b.jsx)(e,Object(E.a)({},t))})})}),Object(b.jsx)(j.b,{path:"/news",component:p}),Object(b.jsx)(j.b,{path:"/friends",component:function(){return Object(b.jsx)(ge,{})}}),Object(b.jsx)(j.b,{path:"/music",component:O}),Object(b.jsx)(j.b,{path:"/settings",component:A}),Object(b.jsx)(j.b,{path:"/login",component:Ct}),Object(b.jsx)(j.b,{path:"*",component:function(){return Object(b.jsx)("div",{children:"404 NOT FOUND"})}})]})})]}):Object(b.jsx)(le,{});var e}}]),n}(a.a.PureComponent),Ft=Object(je.d)(j.g,Object(f.b)((function(e){return{initialized:e.app.isInitialized}}),{initializedTC:function(){return function(e){var t=e(Ot());Promise.all([t]).then((function(){e({type:Pt,isInitialized:!0})})).catch((function(e){console.warn(e)}))}}}))(wt),Wt=function(){return Object(b.jsx)(d.a,{children:Object(b.jsx)(f.a,{store:yt,children:Object(b.jsx)(Ft,{})})})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(Wt,{})}),document.getElementById("root"))},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},42:function(e,t,n){e.exports={formControl:"FormsControls_formControl__h9sg1",error:"FormsControls_error__11m4n",formSummaryError:"FormsControls_formSummaryError__36qYg"}},48:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3DgDn",mainPhoto:"ProfileInfo_mainPhoto__239BD",contactForm:"ProfileInfo_contactForm__3x3th"}},92:function(e,t,n){e.exports={page:"Paginator_page__3G4xN",currentPage:"Paginator_currentPage__1thiu"}},93:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__ZK2GE",posts:"MyPosts_posts__1delS",error:"MyPosts_error__3mESq",errorMessage:"MyPosts_errorMessage__30gYi"}},96:function(e,t,n){e.exports={header:"Header_header__2Q4zb",loginBlock:"Header_loginBlock__RR54G"}}},[[291,1,2]]]);
//# sourceMappingURL=main.04239bd1.chunk.js.map