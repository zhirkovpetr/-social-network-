{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/NavBar/NavBar.module.css","components/Dialogs/Dialogs.module.css","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","redux/dialogs-reducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","common/FormsControls/FormsControls.tsx","utils/validators/validators.tsx","components/Dialogs/NewDialogsMessageForm.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/NavBar/NavBar.tsx","components/NavBar/NavBarContainer.tsx","API/api.tsx","redux/users-reducer.ts","assets/images/user.png","components/Users/Users.tsx","assets/images/loading.svg","common/Preloader/Preloader.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPostsForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","App.tsx","redux/sideBar-reducer.ts","redux/redux-store.ts","index.tsx","common/FormsControls/FormsControls.module.css","components/Users/Users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css"],"names":["module","exports","News","Music","Settings","props","ADD_MESSAGE","initialState","dialogs","id","v1","name","messages","message","DialogItem","className","s","dialog","active","alt","src","to","activeClassName","activeLink","Message","FormControl","input","meta","hasError","children","touched","error","formControl","Textarea","restProps","Input","required","value","maxLengthCreator","maxLength","length","maxValue","NewDialogsMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","inputButton","Field","placeholder","component","validate","Dialogs","dialogsElements","dialogsPage","map","d","messagesElements","m","index","dialogsItems","AddMessage","newMessage","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","DialogsContainer","compose","type","Navbar","friendsArray","sideBar","friends","nav","item","friedItem","imgFriend","nameFriend","NavbarContainer","instance","axios","create","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","then","response","data","post","delete","profileAPI","userId","status","put","authAPI","email","password","rememberMe","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","setCurrentPage","toggleIsFetching","isFetching","toggleIsFollowingInProgress","users","totalUsersCount","followingInProgress","Users","pagesCount","Math","ceil","pages","i","push","page","p","onClick","onPageChanged","selectedPage","usersPage","u","photo","photos","small","userPhoto","followed","disabled","some","unFollowTC","followTC","Preloader","loading","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainerComponent","pageNumber","getUsersTC","this","React","UsersContainer","dispatch","resultCode","follow","unFollow","items","totalCount","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","autoFocus","onBlur","updateStatusTC","onChange","e","currentTarget","onDoubleClick","ProfileInfo","profile","descriptionBlock","large","fullName","aboutMe","lookingForAJobDescription","ADD_POST","ON_KEY_PRESS_HANDLER","SET_USER_PROFILE","SET_STATUS","posts","likesCount","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","Post","MyPostsReduxForm","MyPosts","postsElements","profilePage","postsBlock","AddPost","newPost","MyPostsContainer","onKeyPressHandler","Profile","ProfileContainer","authorizedUserId","history","getUserPageTC","getStatusTC","getState","withRouter","Header","header","loginBlock","login","logoutTC","SET_USER_DATA","setUserData","getUserLoginTC","HeaderContainerComponent","HeaderContainer","LoginReduxForm","formSummaryError","loginTC","stopSubmit","_error","formData","SET_INITIALIZED","isInitialized","App","initializedTC","initialized","path","render","Login","app","promise","Promise","all","catch","console","warn","rootReducer","combineReducers","action","filter","formReducer","store","createStore","applyMiddleware","thunk","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd149bec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3DgDn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ARoXA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__xcy83\",\"item\":\"NavBar_item__1XSqw\",\"activeLink\":\"NavBar_activeLink__302B2\",\"friends\":\"NavBar_friends__3FnqL\",\"imgFriend\":\"NavBar_imgFriend__2GIfy\",\"nameFriend\":\"NavBar_nameFriend__sCgLs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__13z6p\",\"dialogsItems\":\"Dialogs_dialogsItems__1UPj1\",\"activeLink\":\"Dialogs_activeLink__3YNT7\",\"dialog\":\"Dialogs_dialog__3reM9\",\"messages\":\"Dialogs_messages__1d7-R\",\"inputButton\":\"Dialogs_inputButton__3mfgJ\"};","import React from \"react\";\r\n\r\ntype NewsType={}\r\nconst News = () => {\r\n    return (<div>News</div>)\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\n\r\n\r\nconst Music = () => {\r\n\r\n    return (<div>\r\n            Music\r\n            </div>)\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\ntype settingsPropsType={\r\n\r\n}\r\n\r\nconst Settings = (props: settingsPropsType) => {\r\n    return (<div>\r\n            Settings\r\n        </div>)\r\n}\r\n\r\nexport default Settings;","import {v1} from \"uuid\";\r\nimport {ActionsTypes} from \"./store\";\r\n\r\nexport type messagesType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type dialogsType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\n\r\nconst ADD_MESSAGE = \"ADD-MESSAGE\";\r\n\r\nexport const AddMessage= (newMessage: string) => {\r\n    return {\r\n        type: \"ADD-MESSAGE\", newMessage\r\n    } as const\r\n}\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Dmitry'},\r\n        {id: v1(), name: 'Petr'},\r\n        {id: v1(), name: 'Andrey'},\r\n        {id: v1(), name: 'Alena'},\r\n        {id: v1(), name: 'Nastia'}\r\n    ] as Array<dialogsType>,\r\n    messages: [\r\n        {id: v1(), message: 'Hi!'},\r\n        {id: v1(), message: 'Hi!'},\r\n        {id: v1(), message: 'How a you?'},\r\n        {id: v1(), message: 'Good!'},\r\n        {id: v1(), message: 'What do you do?'}\r\n    ] as Array<messagesType>\r\n}\r\n\r\nexport const dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            const newMessage = action.newMessage;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), message: newMessage}]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from \"react\";\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype DialogItemPropsType={\r\n    id: string\r\n    name: string\r\n}\r\n\r\nconst DialogItem= (props: DialogItemPropsType)=>{\r\n    return <div className={s.dialog +' '+ s.active}>\r\n    <img alt={'images'} src=\"https://dthezntil550i.cloudfront.net/kg/latest/kg1802132010216500004834729/1280_960/557d644f-12f3-49e1-bb66-23c16400540d.png\"/>\r\n    <NavLink to={\"/dialogs/\"+ props.id} activeClassName={s.activeLink}>{props.name}</NavLink>\r\n        </div>\r\n}\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport s from './../Dialogs.module.css';\r\nimport './Message.css';\r\n\r\ntype messagePropsType={\r\n    message: string\r\n}\r\n\r\nconst Message=(props:messagePropsType) =>{\r\n    return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default Message;","import React from \"react\";\r\nimport {WrappedFieldProps} from \"redux-form\";\r\nimport s from './FormsControls.module.css'\r\n\r\n\r\nexport const FormControl: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, children, ...restProps} = props\r\n\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.formControl} + ' ' + ${hasError ? s.error : ''}`}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, children, ...restProps} = props\r\n    return (\r\n       <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, children, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator= (maxLength: number) => (value: string) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n   return undefined\r\n}","import s from \"./Dialogs.module.css\";\r\nimport React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nexport type  FormDataType = {\r\n    newMessage: string\r\n}\r\nconst maxValue= maxLengthCreator(100)\r\n\r\nexport const NewDialogsMessageForm = (props: InjectedFormProps<FormDataType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.inputButton}>\r\n            <Field placeholder={'Enter your message'} name={'newMessage'} component={Textarea} validate={[ required, maxValue ]}/>\r\n            <button>send</button>\r\n        </form>)\r\n}\r\n\r\n\r\nexport const NewDialogsMessageReduxForm= reduxForm<FormDataType>({form: 'DialogsNewMessage'})(NewDialogsMessageForm)","import React from \"react\";\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {dialogsPageType} from \"./DialogsContainer\";\r\nimport {FormDataType, NewDialogsMessageReduxForm} from \"./NewDialogsMessageForm\";\r\n\r\ntype DialogsPropsType = {\r\n    dialogsPage: dialogsPageType\r\n    isAuth: boolean\r\n    AddMessage: (newMessage: string) => void\r\n}\r\n\r\nconst Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n\r\n\r\n    const AddMessage = (message: FormDataType) => {\r\n        props.AddMessage(message.newMessage)\r\n        message.newMessage= ''\r\n    }\r\n\r\n    let dialogsElements = props.dialogsPage.dialogs.map((d) =>\r\n        <DialogItem id={d.id} name={d.name}/>);\r\n\r\n    let messagesElements = props.dialogsPage.messages.map(function (m, index) {\r\n        return (\r\n            <Message message={m.message} key={index}/>\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <NewDialogsMessageReduxForm onSubmit={AddMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;\r\n\r\n","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: mapStateToPropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}","import React from \"react\";\r\nimport {AddMessage, InitialStateType} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nexport type messagesType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type dialogsType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type dialogsPageType = {\r\n    dialogs: Array<dialogsType>\r\n    messages: Array<messagesType>\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    dialogsPage: InitialStateType\r\n}\r\n/*type mapDispatchPropsType = {\r\n    ChangeMessageAC: (newMessage: string) => void\r\n    AddMessageAC: () => void\r\n}*/\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\n/*let mapDispatchToProps = (dispatch: Dispatch): mapDispatchPropsType => {\r\n    return {\r\n        ChangeMessageAC: (newMessage: string) => {\r\n            dispatch(ChangeMessageAC(newMessage))\r\n        },\r\n        AddMessageAC: () => {\r\n            dispatch(AddMessageAC())\r\n        }\r\n    }\r\n}*/\r\n\r\nexport const DialogsContainer= compose<React.ComponentType>(\r\n    connect(mapToStateToProps, {AddMessage}),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n","import React from 'react';\r\nimport s from './NavBar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {NavBarPropsType} from \"./NavBarContainer\";\r\n\r\nconst Navbar: React.FC <NavBarPropsType> = (props) => {\r\n    const friendsArray = props.sideBar.friends;\r\n    return (\r\n        <nav className={s.nav}>\r\n        <div className={s.item}>\r\n        <NavLink to={\"/profile\"} activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n    <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n    <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n    <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n    <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n    <NavLink to=\"/friends\" activeClassName={s.activeLink}>Friends</NavLink>\r\n        <div className={s.friends}>\r\n        {friendsArray.map((friedItem, index) =>\r\n                <p key={index}>\r\n                <span className={s.imgFriend}>\r\n                <img src=\"https://dthezntil550i.cloudfront.net/kg/latest/kg1802132010216500004834729/1280_960/557d644f-12f3-49e1-bb66-23c16400540d.png\" alt=\"friend\"/>\r\n            </span>\r\n            <span className={s.nameFriend}>\r\n            <NavLink to={\"/friend/\"+ friedItem.id} activeClassName={s.activeLink}>{friedItem.name}</NavLink>\r\n            </span>\r\n            </p>\r\n)}\r\n    </div>\r\n    </div>\r\n    </nav>\r\n)\r\n}\r\n\r\nexport default Navbar;\r\n\r\n\r\n","import {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport Navbar from \"./NavBar\";\r\nimport {InitialStateType} from \"../../redux/sideBar-reducer\";\r\n\r\ntype friendsType = {\r\n    id: string\r\n    name: string\r\n}\r\ntype sideBarType = {\r\n    friends: Array<friendsType>\r\n}\r\nexport type NavBarPropsType = {\r\n    sideBar: sideBarType\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    sideBar: InitialStateType\r\n}\r\n/*type mapDispatchPropsType = {}*/\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n        sideBar: state.sideBar\r\n    }\r\n}\r\n\r\n/*let mapDispatchToProps = (dispatch: Dispatch): mapDispatchPropsType => {\r\n    return {}\r\n}*/\r\n\r\nexport const NavbarContainer = connect(mapToStateToProps, {})(Navbar)\r\n\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': 'abbdd15d-25c5-489b-bf41-880fe8431dc9'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return (\r\n            instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n    followUsers(id: string) {\r\n        return (\r\n            instance.post(`follow/${id}`, {})\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n    unFollowUsers(id: string) {\r\n        return (\r\n            instance.delete(`follow/${id}`, {})\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n}\r\n\r\nexport const profileAPI={\r\n    getProfilePage(userId: number) {\r\n        return (\r\n            instance.get(`profile/${userId}`)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n    getStatus(userId: number) {\r\n        return (\r\n            instance.get(`profile/status/${userId}`)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n    updateStatus(status: string) {\r\n        return (\r\n            instance.put(`profile/status`, {status: status})\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n}\r\n\r\nexport const authAPI={\r\n    me() {\r\n        return (\r\n            instance.get(`auth/me`)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n    login(email: string | null, password: string | null, rememberMe: boolean) {\r\n        return (\r\n            instance.post(`/auth/login`, {email, password, rememberMe})\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n    logout() {\r\n        return (\r\n            instance.delete(`/auth/login`)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    }\r\n}\r\n\r\n","import {usersAPI} from \"../API/api\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\n\r\n\r\ntype PhotoType = {\r\n    small: null | string\r\n    large: null | string\r\n}\r\n\r\nexport type UserType = {\r\n    name: string\r\n    id: string\r\n    uniqueUrlName: null | string\r\n    photos: PhotoType\r\n    status: null | string\r\n    followed: boolean\r\n}\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS';\r\n\r\nexport const follow = (userId: string) => {\r\n    return {\r\n        type: FOLLOW, userId: userId\r\n    } as const\r\n}\r\n\r\nexport const unFollow = (userId: string) => {\r\n    return {\r\n        type: UNFOLLOW, userId: userId\r\n    } as const\r\n}\r\n\r\nexport const setUsers = (users: Array<UserType>) => {\r\n    return {\r\n        type: SET_USERS, users: users\r\n    } as const\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT, totalCount: totalUsersCount\r\n    } as const\r\n}\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE, currentPage: currentPage\r\n    } as const\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING, isFetching: isFetching\r\n    } as const\r\n}\r\nexport const toggleIsFollowingInProgress = (userId: string, isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_FOLLOWING_IN_PROGRESS, userId, isFetching\r\n    } as const\r\n}\r\n\r\ntype followActionType = ReturnType<typeof follow>\r\ntype unFollowActionType = ReturnType<typeof unFollow>\r\ntype setUsersActionType = ReturnType<typeof setUsers>\r\ntype setCurrentPageActionType = ReturnType<typeof setCurrentPage>\r\ntype setTotalUsersCountActionType = ReturnType<typeof setTotalUsersCount>\r\ntype toggleIsFetchingActionType = ReturnType<typeof toggleIsFetching>\r\ntype toggleIsFollowingInProgressActionType = ReturnType<typeof toggleIsFollowingInProgress>\r\n\r\nexport type ActionsTypes = followActionType | unFollowActionType | setUsersActionType |\r\n    setCurrentPageActionType | setTotalUsersCountActionType | toggleIsFetchingActionType |\r\n    toggleIsFollowingInProgressActionType\r\n\r\nexport let initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<string>\r\n}\r\n\r\nexport const usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: [...action.users]\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const requestUsersTC = (currentPage: number, pageSize: number): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        dispatch(toggleIsFetching(true));\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n            dispatch(setCurrentPage(currentPage))\r\n        })\r\n    }\r\n}\r\n\r\nexport const followTC = (userId: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        dispatch(toggleIsFollowingInProgress(userId, true))\r\n        usersAPI.followUsers(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(follow(userId))\r\n            }\r\n            dispatch(toggleIsFollowingInProgress(userId, false))\r\n        })\r\n        }\r\n}\r\n\r\nexport const unFollowTC = (userId: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        dispatch(toggleIsFollowingInProgress(userId, true))\r\n        usersAPI.unFollowUsers(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(unFollow(userId))\r\n            }\r\n            dispatch(toggleIsFollowingInProgress(userId, false))\r\n        })\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/user.a213b748.png\";","import React from 'react';\r\nimport s from './Users.module.css'\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport {UserType} from '../../redux/users-reducer';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype UsersPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    usersPage: Array<UserType>\r\n    followTC: (userId: string) => void\r\n    unFollowTC: (userId: string) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: Array<string>\r\n}\r\n\r\n\r\nlet Users = (props: UsersPropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = [] as Array<number>\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return (<div>\r\n        <div className={s.page}>\r\n            {pages.map((p) => {\r\n                return <span onClick={() => {\r\n                    props.onPageChanged(p)\r\n                }} className={props.currentPage === p ? s.selectedPage : ''}>{p}</span>\r\n            })}\r\n        </div>\r\n        {props.usersPage.map(u => <div key={u.id}>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile'}>\r\n                    <img alt={'avatar'} className={s.photo} src={u.photos.small !== null ? u.photos.small : userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {u.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.unFollowTC(u.id)\r\n                        }}>UNFOLLOW</button> :\r\n                        <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.followTC(u.id)\r\n                        }}>FOLLOW</button>}\r\n                </div>\r\n            </span>\r\n                <span>\r\n                <span>\r\n                    <div>{u.name} {'u.surname'}</div>\r\n                    <div>{u.status !== null ? u.status : 'not status'}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'u.location.country'}</div>\r\n                    <div>{'u.location.city'}</div>\r\n                </span>\r\n            </span>\r\n            </div>\r\n        )\r\n        }\r\n    </div>)\r\n}\r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/loading.96080287.svg\";","import React from 'react';\r\nimport loading from '../../assets/images/loading.svg'\r\n\r\n\r\nexport const Preloader = () => {\r\n    return (<div>\r\n        <img alt={'LOADING, PLEASE WAIT'} src={loading} />\r\n    </div>)\r\n}","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsers= (state: AppStateType)=>{\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize= (state: AppStateType)=>{\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount= (state: AppStateType)=>{\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage= (state: AppStateType)=>{\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching= (state: AppStateType)=>{\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress= (state: AppStateType)=>{\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n","import {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {\r\n    followTC,\r\n    requestUsersTC,\r\n    setCurrentPage,\r\n    toggleIsFollowingInProgress,\r\n    unFollowTC,\r\n    UserType\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport React from 'react';\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nexport type mapStatePropsType = {\r\n    usersPage: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<string>\r\n}\r\n\r\nexport type UsersContainerComponentPropsType = mapStatePropsType & mapDispatchPropsType;\r\n\r\n\r\nexport type mapDispatchPropsType = {\r\n    followTC: (userId: string) => void\r\n    unFollowTC: (userId: string) => void\r\n    getUsersTC: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainerComponent extends React.Component<UsersContainerComponentPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsersTC(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsersTC(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   usersPage={this.props.usersPage}\r\n                   followTC={this.props.followTC}\r\n                   unFollowTC={this.props.unFollowTC}\r\n                   onPageChanged={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n        usersPage: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport const UsersContainer= compose<React.ComponentType>(\r\n    connect(mapToStateToProps, {followTC, unFollowTC, setCurrentPage, toggleIsFollowingInProgress, getUsersTC: requestUsersTC})\r\n)(UsersContainerComponent)\r\n\r\n\r\n","import React, {ChangeEvent, useState} from 'react';\r\n\r\ntype ProfileStatusWithHooksPropsType = {\r\n    status: string\r\n    updateStatusTC: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks = (props: ProfileStatusWithHooksPropsType) => {\r\n    let [editMode, setEditMode] = useState<boolean>(false)\r\n    let [status, setStatus] = useState<string>(props.status)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateActivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatusTC(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus onBlur={deactivateActivateEditMode} onChange={onStatusChange} value={status}/>\r\n            </div>\r\n            }\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || 'No Status'}</span>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport {Preloader} from \"../../../common/Preloader/Preloader\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\ntype profileInfoPropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatusTC: (status: string)=> void\r\n}\r\n\r\nconst ProfileInfo = (props: profileInfoPropsType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    } else\r\n        return <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img alt={'avatars'} src={props.profile.photos.large !== null ? props.profile.photos.large : ''}/>\r\n\r\n                <div><ProfileStatusWithHooks status={props.status} updateStatusTC={props.updateStatusTC} /></div>\r\n\r\n                <div>Full name: {props.profile.fullName}</div>\r\n                <div>About me: {props.profile.aboutMe}</div>\r\n                <div>Looking for a job: {props.profile.lookingForAJobDescription}</div>\r\n                {/*<div>{props.profile.contacts}</div>*/}\r\n            </div>\r\n        </div>\r\n}\r\nexport default ProfileInfo;","import {v1} from 'uuid';\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {profileAPI} from \"../API/api\";\r\n\r\nexport type postsType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\ntype PhotoType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\n\r\ntype contactsType = {\r\n    facebook: string | null\r\n    website: string | null\r\n    vk: string | null\r\n    twitter: string | null\r\n    instagram: string | null\r\n    youtube: string | null\r\n    github: string | null\r\n    mainLink: string | null\r\n}\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string | null\r\n    contacts: contactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string | null\r\n    fullName: string | null\r\n    userId: number | null\r\n    photos: PhotoType\r\n}\r\n\r\nexport type ActionsTypes =\r\n    AddPostActionType\r\n    | onKeyPressHandlerActionType\r\n    | setUserProfileActionType\r\n    | setStatusActionType\r\n\r\ntype AddPostActionType = ReturnType<typeof AddPost>\r\ntype onKeyPressHandlerActionType = ReturnType<typeof onKeyPressHandler>\r\ntype setUserProfileActionType = ReturnType<typeof setUserProfile>\r\ntype setStatusActionType = ReturnType<typeof setStatus>\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst ON_KEY_PRESS_HANDLER = 'ON_KEY_PRESS_HANDLER';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nexport const AddPost = (newPost: string) => {\r\n    return {\r\n        type: ADD_POST, newPost\r\n    } as const\r\n}\r\n\r\nexport const onKeyPressHandler = (newPost: string) => {\r\n    return {\r\n        type: ON_KEY_PRESS_HANDLER, newPost: newPost\r\n    } as const\r\n}\r\nexport const setUserProfile = (profile: ProfileType) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile: profile\r\n    } as const\r\n}\r\n\r\nexport const setStatus = (status: string) => {\r\n    return {\r\n        type: SET_STATUS, status\r\n    } as const\r\n}\r\n\r\nlet initialState = {\r\n    status: '',\r\n    posts: [\r\n        {id: v1(), message: 'Hi, how a you?', likesCount: 12},\r\n        {id: v1(), message: \"It's my first post.\", likesCount: 22}\r\n    ] as Array<postsType>,\r\n    profile: {\r\n        aboutMe: null,\r\n        contacts: {\r\n            facebook: null,\r\n            website: null,\r\n            vk: null,\r\n            twitter: null,\r\n            instagram: null,\r\n            youtube: null,\r\n            github: null,\r\n            mainLink: null\r\n        },\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: null,\r\n        fullName: null as string | null,\r\n        userId: 1,\r\n        photos: {\r\n            small: null,\r\n            large: null\r\n        }\r\n    } as ProfileType,\r\n    isFetching: false\r\n}\r\n\r\nexport const profileReducer = (state: initialStateType = initialState, action: ActionsTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost = action.newPost;\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: v1(), message: newPost, likesCount: 0}]\r\n            }\r\n        }\r\n        case ON_KEY_PRESS_HANDLER: {\r\n            const newPost = action.newPost;\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: v1(), message: newPost, likesCount: 0}],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const getUserPageTC = (userId: number): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>,\r\n            getState: () => AppStateType) => {\r\n        profileAPI.getProfilePage(userId)\r\n            .then(data => {\r\n                dispatch(setUserProfile(data));\r\n            })\r\n    }\r\n}\r\n\r\nexport const getStatusTC = (userId: number): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>,\r\n            getState: () => AppStateType) => {\r\n        profileAPI.getStatus(userId)\r\n            .then(data => {\r\n                dispatch(setStatus(data));\r\n            })\r\n    }\r\n}\r\n\r\nexport const updateStatusTC = (status: string): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>,\r\n            getState: () => AppStateType) => {\r\n        profileAPI.updateStatus(status)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(setStatus(status));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PostPropsType = {\r\n    id?: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nconst Post = (props: PostPropsType) => {\r\n    return <div className={s.item}>\r\n        <img\r\n            src='data:image/jpeg;base64,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'/>\r\n        {props.message}\r\n        <div>\r\n            <span>Likes {props.likesCount}</span>\r\n        </div>\r\n    </div>\r\n}\r\nexport default Post;","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\n\r\nexport type  FormDataType = {\r\n    newPost: string\r\n}\r\n\r\nconst maxValue= maxLengthCreator(50)\r\n\r\nexport const MyPostsForm = (props: InjectedFormProps<FormDataType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Enter your message'} type=\"text\" name={'newPost'} component={Textarea} validate={[ required, maxValue ]}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const MyPostsReduxForm = reduxForm<FormDataType>({form: 'ProfileNewPost'})(MyPostsForm)\r\n\r\n","import React from 'react';\r\nimport Post from \"./Post/Post\";\r\nimport s from './MyPosts.module.css';\r\nimport {profilePageType} from \"./MyPostsContainer\";\r\nimport {FormDataType, MyPostsReduxForm} from \"./MyPostsForm\";\r\n\r\n\r\ntype MyPostsPropsType = {\r\n    AddPost: (newPost: string) => void\r\n    onKeyPressHandler: (newPost: string) => void\r\n    profilePage: profilePageType\r\n}\r\n\r\n\r\nconst MyPosts: React.FC<MyPostsPropsType> = (props: MyPostsPropsType) => {\r\n\r\n    let postsElements = props.profilePage.posts.map(p => <Post key={p.id} message={p.message}\r\n                                                               likesCount={p.likesCount}/>)\r\n\r\n    const onKeyPressHandler = (post: FormDataType) => {\r\n        props.onKeyPressHandler(post.newPost)\r\n        post.newPost = ''\r\n    }\r\n\r\n    const onAddPost = (post: FormDataType) => {\r\n        props.AddPost(post.newPost)\r\n        post.newPost = ''\r\n    }\r\n\r\n    return <div className={s.postsBlock}>\r\n        <h3>My posts</h3>\r\n        <MyPostsReduxForm onSubmit={onAddPost}/>\r\n        <div className={s.posts}>\r\n            {postsElements}\r\n        </div>\r\n    </div>\r\n}\r\nexport default MyPosts;\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {AddPost, initialStateType, onKeyPressHandler, postsType} from \"../../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\n\r\nexport type profilePageType = {\r\n    posts: Array<postsType>\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    profilePage: initialStateType\r\n}\r\n/*type mapDispatchPropsType = {\r\n    ChangePostAC: (newPost: string) => void\r\n    AddPostAC: () => void\r\n    onKeyPressHandler: () => void\r\n}*/\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\n/*let mapDispatchToProps = (dispatch: Dispatch): mapDispatchPropsType => {\r\n    return {\r\n        ChangePostAC: (newPost: string) => {\r\n            dispatch(ChangePostAC(newPost))\r\n        },\r\n        AddPostAC: () => {\r\n            dispatch(AddPostAC())\r\n        },\r\n        onKeyPressHandler: ()=> {\r\n           dispatch(AddPostAC());\r\n            dispatch(ChangePostAC(''))\r\n        }\r\n    }\r\n}*/\r\n\r\nexport const MyPostsContainer = connect(mapToStateToProps, {AddPost, onKeyPressHandler})(MyPosts)\r\n\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\n\r\nexport type ProfilePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatusTC: (status: string)=> void\r\n}\r\n\r\nconst Profile= (props: ProfilePropsType ) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatusTC={props.updateStatusTC}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {getStatusTC, getUserPageTC, ProfileType, updateStatusTC} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\n\r\ntype mapStatePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    isAuth: boolean\r\n    authorizedUserId: number | null\r\n}\r\n\r\nexport type mapDispatchPropsType = {\r\n    getUserPageTC: (userId: number | null)=> void\r\n    getStatusTC: (userId: number | null)=> void\r\n    updateStatusTC: (status: string)=> void\r\n}\r\n\r\ntype userPropsType={\r\n    userId: string\r\n}\r\n\r\nexport type ProfilePropsType = mapStatePropsType & mapDispatchPropsType;\r\n\r\nexport type PropsType= RouteComponentProps<userPropsType> & ProfilePropsType\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId= this.props.profile?.userId\r\n        if(!userId){\r\n            userId=this.props.authorizedUserId\r\n            if(!userId){\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserPageTC(userId)\r\n        this.props.getStatusTC(userId)\r\n\r\n\r\n        /*let userId= this.props.profile?.userId\r\n        if(!userId){\r\n            userId=2\r\n        }\r\n        usersAPI.getUserPage(userId)\r\n            .then(data => {\r\n                this.props.setUserProfile(data);\r\n            })*/\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatusTC={this.props.updateStatusTC}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authorizedUserId: state.auth.data.id\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    withAuthRedirect,\r\n    connect(mapToStateToProps, {getUserPageTC, getStatusTC, updateStatusTC}),\r\n    withRouter\r\n)(ProfileContainer)\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\n\r\ntype HeaderPropsType = {\r\n    login: string | null,\r\n    isFetching: boolean\r\n    isAuth: boolean\r\n    logoutTC: ()=> void\r\n}\r\n\r\nconst Header = (props: HeaderPropsType) => {\r\n\r\n    return <header className={s.header}>\r\n        <img alt={'logo'} src='https://cdn.logo.com/hotlink-ok/logo-social.png'/>\r\n\r\n        <div className={s.loginBlock}>\r\n            {props.isFetching ? <Preloader/> : null}\r\n            {props.isAuth ?\r\n                <div> {props.login}  <button onClick={props.logoutTC}>LOG OUT</button> </div>\r\n                : <NavLink to={'/login'}> LOG IN  </NavLink>}\r\n        </div>\r\n    </header>;\r\n}\r\nexport default Header;","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {authAPI} from \"../API/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nexport type AuthPageType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n}\r\n\r\ntype StopSubmitActionsType = ReturnType<typeof stopSubmit>\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\n\r\nexport const setUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: SET_USER_DATA, data: {id, email, login, isAuth}\r\n    } as const\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING, isFetching: isFetching\r\n    } as const\r\n}\r\n\r\ntype setUserDataActionType = ReturnType<typeof setUserData>\r\ntype toggleIsFetchingActionType = ReturnType<typeof toggleIsFetching>\r\n\r\nexport type ActionsTypes = setUserDataActionType | toggleIsFetchingActionType\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport let initialState = {\r\n    data: {\r\n        id: null,\r\n        login: null,\r\n        email: null\r\n    } as AuthPageType,\r\n    isAuth: false,\r\n    isFetching: false\r\n}\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const getUserLoginTC = (): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        dispatch(toggleIsFetching(true))\r\n        return authAPI.me()\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    let {id, login, email} = data.data\r\n                    dispatch(setUserData(id, email, login, true))\r\n                }\r\n                dispatch(toggleIsFetching(false))\r\n            })\r\n    }\r\n}\r\n\r\nexport const loginTC = (email: string | null, password: string | null, rememberMe: boolean): ThunkType => {\r\n\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes | StopSubmitActionsType>) => {\r\n        authAPI.login(email, password, rememberMe)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(getUserLoginTC())\r\n                } else {\r\n                    let message = data.messages.length > 0 ? data.messages[0] : 'Email or password is not correct'\r\n                    dispatch(stopSubmit('login', {_error: message}))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const logoutTC = (): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        authAPI.logout()\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(setUserData(null, null, null, false))\r\n                }\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {getUserLoginTC, logoutTC} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nexport type mapStatePropsType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isFetching: boolean,\r\n    isAuth: boolean\r\n}\r\n\r\nexport type mapDispatchPropsType = {\r\n    logoutTC: ()=> void\r\n}\r\n\r\nexport type UsersContainerComponentPropsType = mapStatePropsType & mapDispatchPropsType;\r\n\r\n\r\n\r\nclass HeaderContainerComponent extends React.Component<UsersContainerComponentPropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n        id: state.auth.data.id,\r\n        email: state.auth.data.email,\r\n        login: state.auth.data.login,\r\n        isFetching: state.auth.isFetching,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const HeaderContainer = connect(mapToStateToProps, {logoutTC})(HeaderContainerComponent)","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginTC} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport s from '../../common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\ntype mapDispatchPropsType = {\r\n    loginTC: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\nexport type mapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nexport type UsersContainerComponentPropsType = mapStatePropsType & mapDispatchPropsType;\r\n\r\nconst maxValue = maxLengthCreator(40)\r\n\r\nexport const LoginForm = (props: InjectedFormProps<FormDataType>) => {\r\n    return (<form onSubmit={props.handleSubmit}>\r\n        <div><Field placeholder={'Email'} name={'email'} component={Input} validate={[required, maxValue]}/></div>\r\n        <div><Field placeholder={'Password'} name={'password'} type={'password'} component={Input}\r\n                    validate={[required, maxValue]}/></div>\r\n        <div><Field type={'checkbox'} name={'rememberMe'} component={Input}/> remember me</div>\r\n        {\r\n            props.error && <div className={s.formSummaryError}>\r\n                {props.error}\r\n            </div>\r\n        }\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props: UsersContainerComponentPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        const {email, password, rememberMe} = formData\r\n        props.loginTC(email, password, rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (<div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>)\r\n}\r\n\r\nexport const mapStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {loginTC})(Login)\r\n\r\n","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {getUserLoginTC} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\ntype setInitializedAT = ReturnType<typeof setInitializedAC>\r\n\r\nexport const setInitializedAC = (isInitialized: boolean) => {\r\n    return {\r\n        type: SET_INITIALIZED, isInitialized\r\n    } as const\r\n}\r\n\r\nexport type ActionsTypes = setInitializedAT\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport let initialState = {\r\n    isInitialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                isInitialized: action.isInitialized\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const initializedTC = (): ThunkType => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\r\n        let promise = dispatch(getUserLoginTC())\r\n        Promise.all([promise])\r\n            .then(() => {\r\n                dispatch(setInitializedAC(true))\r\n            })\r\n            .catch(error => {\r\n                console.warn(error)\r\n            })\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport './App.css';\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport {DialogsContainer} from \"./components/Dialogs/DialogsContainer\";\r\nimport {NavbarContainer} from \"./components/NavBar/NavBarContainer\";\r\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport {HeaderContainer} from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializedTC} from \"./redux/app-reducer\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./common/Preloader/Preloader\";\r\n\r\n\r\nexport type mapDispatchPropsType = {\r\n    initializedTC: () => void\r\n}\r\n\r\nexport type mapStatePropsType = {\r\n    initialized: boolean\r\n}\r\n\r\nexport type AppComponentPropsType = mapDispatchPropsType & mapStatePropsType;\r\n\r\nclass App extends React.Component<AppComponentPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializedTC()\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <NavbarContainer/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/friends' render={() => <UsersContainer/>}/>\r\n                    <Route path='/music' component={Music}/>\r\n                    <Route path='/settings' component={Settings}/>\r\n                    <Route path='/login' component={Login}/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nlet mapToStateToProps = (state: AppStateType): mapStatePropsType => {\r\n    return {\r\n       initialized: state.app.isInitialized\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapToStateToProps,{initializedTC}))(App)\r\n","import {ActionsTypes} from \"./store\";\r\nimport {v1} from \"uuid\";\r\n\r\nexport type friendsType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    friends: [\r\n        {id: v1(), name: 'Dmitry'},\r\n        {id: v1(), name: 'Petr'},\r\n        {id: v1(), name: 'Andrey'}\r\n    ] as Array<friendsType>\r\n}\r\n\r\nexport const sideBarReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n    }\r\n}","import {createStore, combineReducers, applyMiddleware} from \"redux\"\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {sideBarReducer} from \"./sideBar-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunk from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nexport type storeType= typeof store;\r\n\r\nlet rootReducer= combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nexport let store= createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n// @ts-ignore\r\nwindow.store=store\r\n\r\n","import React from \"react\";\r\nimport './index.css';\r\nimport ReactDOM from \"react-dom\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport {store} from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n        <React.StrictMode>\r\n            <BrowserRouter>\r\n                <Provider store={store}>\r\n                <App />\r\n                </Provider>\r\n            </BrowserRouter>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    );\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__h9sg1\",\"error\":\"FormsControls_error__11m4n\",\"formSummaryError\":\"FormsControls_formSummaryError__36qYg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Users_dialogs__3rb7s\",\"dialog\":\"Users_dialog__1RBB1\",\"photo\":\"Users_photo__18Ulb\",\"selectedPage\":\"Users_selectedPage__1hruE\",\"page\":\"Users_page__3wakC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__ZK2GE\",\"posts\":\"MyPosts_posts__1delS\",\"error\":\"MyPosts_error__3mESq\",\"errorMessage\":\"MyPosts_errorMessage__30gYi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Q4zb\",\"loginBlock\":\"Header_loginBlock__RR54G\"};"],"sourceRoot":""}